<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WebForge — Instant Website Generator</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --panel:#ffffff;
      --muted:#6b7280;
      --accent:#0f62fe;
      --text:#0f1724;
      --radius:12px;
      --shadow: 0 8px 30px rgba(15,23,36,0.06);
      --error:#ff4d4f;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased; padding:28px;}
    .wrap{max-width:1120px;margin:0 auto;}
    header{display:flex;gap:16px;align-items:center;margin-bottom:18px}
    .logo{background:linear-gradient(135deg,#0f62fe,#7c3aed);color:#fff;padding:10px 14px;border-radius:10px;font-weight:700}
    h1{font-size:20px;margin:0}
    p.lead{margin:4px 0 0;color:var(--muted);font-size:13px}
    .grid{display:grid;grid-template-columns:420px 1fr;gap:18px;align-items:start}
    .card{background:var(--panel);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:8px}
    input[type="text"], input[type="email"], input[type="tel"], textarea, select{
      width:100%; padding:10px 12px;border:1px solid #e6e9ef;border-radius:10px;font-size:14px;
      outline:none;transition:all .12s;background:#fff;color:var(--text)
    }
    textarea{min-height:84px; resize:vertical}
    .row{display:flex;gap:10px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}
    .btn.ghost{background:#fff;border:1px solid #e6e9ef;color:var(--text);font-weight:600}
    .btn.reset{background:#fff;border:1px solid #ddd;color:var(--muted)}
    .muted{color:var(--muted);font-size:13px}
    .preview{border-radius:10px;height:580px;overflow:hidden;border:1px solid #eee;padding:0;background:#fff;display:flex;flex-direction:column}
    .previewTop{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #f1f3f7}
    .previewFrame{flex:1}
    .controls{display:flex;gap:8px;align-items:center}
    .small{padding:8px 10px;font-size:13px}
    .field-note{font-size:12px;color:var(--muted);margin-top:6px}
    .error{border-color:var(--error) !important; box-shadow:0 0 0 3px rgba(255,77,79,0.06);}
    .err-text{color:var(--error);font-size:13px;margin-top:8px}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:980px){
      .grid{grid-template-columns:1fr;}
      .preview{height:420px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">WebForge</div>
      <div>
        <h1>WebForge — Instant Website Generator</h1>
        <p class="lead">Type the business details and click Generate. Preview appears below; you can download the final HTML.</p>
      </div>
    </header>

    <div class="grid">
      <!-- left: inputs -->
      <div class="card">
        <label>Business Name *</label>
        <input id="bizName" placeholder="Example: Tailoring Shop">
        <div style="height:10px"></div>

        <div class="row">
          <div style="flex:1">
            <label>Email</label>
            <input id="bizEmail" type="email" placeholder="e.g. hello@example.com">
          </div>
          <div style="width:140px">
            <label>Phone</label>
            <input id="bizPhone" type="tel" placeholder="e.g. +1 555 1234">
          </div>
        </div>
        <div style="height:10px"></div>

        <label>Business Address</label>
        <input id="bizAddress" placeholder="City, State, Country (e.g. New York, USA)">

        <div style="height:10px"></div>

        <label>Service Offered (short)</label>
        <input id="bizService" placeholder="e.g. Sewing, Alterations, Custom designs">

        <div style="height:10px"></div>

        <label>Business Description</label>
        <textarea id="bizDesc" placeholder="Describe the business in 1–2 sentences"></textarea>

        <div style="height:10px"></div>

        <label>Tagline / Slogan</label>
        <input id="bizTag" placeholder="Short tagline (optional)">

        <div style="height:10px"></div>

        <label>Highlights (comma separated)</label>
        <input id="bizHighlights" placeholder="Fast delivery, Custom designs, Affordable">

        <div style="height:10px"></div>

        <label>Website / Social Link (optional)</label>
        <input id="bizLink" placeholder="https://instagram.com/yourpage">

        <div style="height:10px"></div>

        <label>Working Hours (optional)</label>
        <input id="bizHours" placeholder="Mon - Sat 08:00 - 17:00">

        <div style="height:12px"></div>

        <label>Upload Logo (optional)</label>
        <input id="bizLogo" type="file" accept="image/*">
        <div class="field-note">If you upload a small logo it will be embedded into the generated website.</div>

        <div style="height:14px"></div>

        <div style="display:flex;gap:10px;align-items:center">
          <button id="generateBtn" class="btn">Generate</button>
          <button id="resetBtn" class="btn reset">Reset</button>
          <div id="status" style="margin-left:8px" class="muted"></div>
        </div>

        <div id="errorBox" style="margin-top:12px"></div>

      </div>

      <!-- right: preview -->
      <div class="card preview" aria-live="polite">
        <div class="previewTop">
          <div>
            <strong>Live Preview</strong>
            <div class="field-note">The preview is the website users will see. Use Generate to update it.</div>
          </div>
          <div class="controls">
            <button id="downloadBtn" class="btn small" style="display:none">Download HTML</button>
          </div>
        </div>
        <div id="previewFrame" class="previewFrame">
          <div style="padding:28px;color:var(--muted)">No preview yet. Fill the fields and click <strong>Generate</strong>.</div>
        </div>
      </div>
    </div>

    <footer>Built with ❤️ by WebForge — Paste this file to your GitHub Pages to run the generator.</footer>
  </div>

  <script>
    // elements
    const bizName = document.getElementById('bizName');
    const bizEmail = document.getElementById('bizEmail');
    const bizPhone = document.getElementById('bizPhone');
    const bizAddress = document.getElementById('bizAddress');
    const bizService = document.getElementById('bizService');
    const bizDesc = document.getElementById('bizDesc');
    const bizTag = document.getElementById('bizTag');
    const bizHighlights = document.getElementById('bizHighlights');
    const bizLink = document.getElementById('bizLink');
    const bizHours = document.getElementById('bizHours');
    const bizLogo = document.getElementById('bizLogo');

    const generateBtn = document.getElementById('generateBtn');
    const resetBtn = document.getElementById('resetBtn');
    const previewFrame = document.getElementById('previewFrame');
    const downloadBtn = document.getElementById('downloadBtn');
    const status = document.getElementById('status');
    const errorBox = document.getElementById('errorBox');

    // utility: clear error visuals
    function clearErrors(){
      [bizName, bizEmail, bizPhone].forEach(el => el.classList.remove('error'));
      errorBox.innerHTML = '';
    }

    // validation: require name and (email or phone)
    function validate(){
      clearErrors();
      const name = bizName.value.trim();
      const email = bizEmail.value.trim();
      const phone = bizPhone.value.trim();
      const errors = [];
      if(!name){
        bizName.classList.add('error');
        errors.push('Business name is required.');
      }
      if(!email && !phone){
        bizEmail.classList.add('error');
        bizPhone.classList.add('error');
        errors.push('Provide at least one contact method: Email or Phone.');
      }
      return { ok: errors.length===0, errors };
    }

    // read logo file and return Promise of dataURL or null
    function readLogoFile(){
      const f = bizLogo.files && bizLogo.files[0];
      if(!f) return Promise.resolve(null);
      return new Promise((resolve) => {
        const r = new FileReader();
        r.onload = () => resolve(r.result);
        r.onerror = () => resolve(null);
        r.readAsDataURL(f);
      });
    }

    // escape HTML
    function esc(s){ return String(s||'').replace(/[&<>"']/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' })[c]); }

    // build website HTML string
    function buildHtml(data){
      const {
        name,email,phone,address,service,desc,tag,highlights,link,hours,logoData
      } = data;
      const accent = '#0f62fe';
      const highlightItems = (highlights||'').split(',').map(s=>s.trim()).filter(Boolean).slice(0,5);
      const highlightHtml = highlightItems.length ? `<ul>${highlightItems.map(h=>`<li>${esc(h)}</li>`).join('')}</ul>` : '';
      const contactHtml = `
        <p>
          ${email ? `<a href="mailto:${esc(email)}">${esc(email)}</a>` : ''}
          ${email && phone ? ' · ' : ''}
          ${phone ? `<a href="tel:${esc(phone)}">${esc(phone)}</a>` : ''}
        </p>
      `;

      const logoImg = logoData ? `<img src="${logoData}" alt="${esc(name)} logo" style="height:56px;border-radius:8px;object-fit:contain">` : `<div style="width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#0f62fe,#7c3aed);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700">${esc(name.charAt(0)||'W')}</div>`;

      // main page template
      return `<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>${esc(name)}</title>
<meta name="description" content="${esc(desc || tag || name)}" />
<style>
  :root{--accent:${accent};--text:#0f1724}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#f7f8fb;color:var(--text)}
  header{background:linear-gradient(90deg,var(--accent),#7c3aed);color:#fff;padding:28px 18px}
  .wrap{max-width:960px;margin:0 auto;padding:22px}
  .brand{display:flex;gap:14px;align-items:center}
  h1{margin:0;font-size:24px}
  .lead{margin:8px 0 0;opacity:.95}
  .card{background:#fff;border-radius:12px;padding:18px;margin-top:18px;box-shadow:0 8px 30px rgba(15,23,36,0.06)}
  .grid{display:flex;gap:18px;flex-wrap:wrap}
  .col{flex:1;min-width:220px}
  .muted{color:#6b7280}
  a{color:var(--accent);text-decoration:none}
  .hero{display:flex;justify-content:space-between;gap:12px;align-items:center}
  ul{padding-left:18px}
  footer{margin-top:22px;padding:12px;text-align:center;color:#6b7280}
  @media(max-width:720px){.hero{flex-direction:column;align-items:flex-start}}
</style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <div style="display:flex;align-items:center">${logoImg}</div>
        <div>
          <h1>${esc(name)}</h1>
          <div style="margin-top:6px;color:#fff;opacity:.95">${esc(tag || '')}</div>
        </div>
      </div>
    </div>
  </header>

  <div class="wrap">
    <section class="card hero">
      <div style="flex:1">
        <h2 style="margin:0">${esc(service || 'Our Services')}</h2>
        <p class="muted" style="margin-top:6px">${esc(desc || '')}</p>
        <div style="margin-top:12px">${contactHtml}${address?`<p class="muted">${esc(address)}</p>`:''}</div>
        ${link?`<p style="margin-top:8px"><a href="${esc(link)}" target="_blank" rel="noopener">Visit our page</a></p>`:''}
      </div>
      <div style="min-width:220px">
        <div style="background:#fafafa;padding:12px;border-radius:10px">
          <strong>Working Hours</strong>
          <p class="muted" style="margin-top:8px">${esc(hours || 'Mon - Sat 08:00 - 17:00')}</p>
        </div>
      </div>
    </section>

    <section class="card" id="services">
      <h3>Services</h3>
      <div class="grid">
        <div class="col">
          <p class="muted">${esc(service || 'We provide great services for our customers.')}</p>
          ${highlightHtml}
        </div>
        <div class="col">
          <p class="muted">Why choose us?</p>
          <ul>
            <li>Trusted · Experienced</li>
            <li>Quality & fast delivery</li>
            <li>Affordable pricing</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="card" id="contact">
      <h3>Contact</h3>
      <div class="grid">
        <div class="col">
          <p class="muted">Get in touch</p>
          ${contactHtml}
        </div>
        <div class="col">
          <p class="muted">Address</p>
          <p>${esc(address || '—')}</p>
        </div>
      </div>
    </section>

    <footer>
      &copy; ${new Date().getFullYear()} ${esc(name)} · Built with WebForge
    </footer>
  </div>
</body>
</html>`;
    }

    // update preview with iframe
    function showInPreview(html){
      try{
        const blob = new Blob([html], { type:'text/html' });
        const url = URL.createObjectURL(blob);
        previewFrame.innerHTML = '<iframe src="'+url+'" style="width:100%;height:100%;border:0;border-radius:8px"></iframe>';
        // revoke after some time
        setTimeout(()=>URL.revokeObjectURL(url), 60000);
      }catch(err){
        previewFrame.innerHTML = `<div style="padding:20px;color:${getComputedStyle(document.documentElement).getPropertyValue('--error')};">Preview failed to load.</div>`;
      }
    }

    // store last generated html for download
    let lastGeneratedHtml = null;

    // generate handler
    generateBtn.addEventListener('click', async ()=>{
      status.textContent = '';
      const v = validate();
      if(!v.ok){
        errorBox.innerHTML = `<div class="err-text">${v.errors.join(' ')}</div>`;
        return;
      }
      generateBtn.disabled = true;
      resetBtn.disabled = true;
      generateBtn.textContent = 'Generating...';
      status.textContent = 'Building preview...';

      const logoData = await readLogoFile();
      const data = {
        name: bizName.value.trim(),
        email: bizEmail.value.trim(),
        phone: bizPhone.value.trim(),
        address: bizAddress.value.trim(),
        service: bizService.value.trim(),
        desc: bizDesc.value.trim(),
        tag: bizTag.value.trim(),
        highlights: bizHighlights.value.trim(),
        link: bizLink.value.trim(),
        hours: bizHours.value.trim(),
        logoData
      };

      try {
        const html = buildHtml(data);
        lastGeneratedHtml = html;
        showInPreview(html);
        downloadBtn.style.display = 'inline-flex';
        status.textContent = 'Preview ready — you can download the HTML.';
        errorBox.innerHTML = '';
      } catch (err){
        // highlight none specifically; show friendly error and mark Biz Name field
        errorBox.innerHTML = '<div class="err-text">Failed to generate website. Please check your inputs.</div>';
        bizName.classList.add('error');
      } finally {
        generateBtn.disabled = false;
        resetBtn.disabled = false;
        generateBtn.textContent = 'Generate';
      }
    });

    // download handler
    downloadBtn.addEventListener('click', ()=>{
      if(!lastGeneratedHtml){
        errorBox.innerHTML = '<div class="err-text">Nothing to download — generate first.</div>';
        return;
      }
      const blob = new Blob([lastGeneratedHtml], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      const fname = (bizName.value.trim() || 'site').toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/gi,'') + '.html';
      a.download = fname;
      document.body.appendChild(a);
      a.click();
      a.remove();
      // revoke URL after a moment
      setTimeout(()=>URL.revokeObjectURL(a.href), 30000);
      status.textContent = 'Downloaded ✔';
    });

    // reset
    resetBtn.addEventListener('click', ()=>{
      if(confirm('Reset the form?')){
        [bizName,bizEmail,bizPhone,bizAddress,bizService,bizDesc,bizTag,bizHighlights,bizLink,bizHours].forEach(i=>i.value='');
        bizLogo.value = '';
        clearErrors();
        previewFrame.innerHTML = '<div style="padding:28px;color:var(--muted)">No preview yet. Fill the fields and click <strong>Generate</strong>.</div>';
        downloadBtn.style.display = 'none';
        lastGeneratedHtml = null;
        status.textContent = '';
        errorBox.innerHTML = '';
      }
    });

    // small UX: clear error on input
    [bizName,bizEmail,bizPhone].forEach(el => el.addEventListener('input', ()=> {
      el.classList.remove('error');
      errorBox.innerHTML = '';
    }));

    // optional: sample values to help testing (comment out if you want empty)
    (function sample(){
      bizName.value = 'Tailoring Shop';
      bizEmail.value = 'coderinnovator@gmail.com';
      bizPhone.value = '';
      bizAddress.value = '';
      bizService.value = 'Sew different kind of clothes';
      bizDesc.value = 'We sew different and latest fashion — bespoke designs and alterations.';
      bizTag.value = 'Oya wear latest';
      bizHighlights.value = 'Fast turnaround,Custom designs,Affordable';
      bizLink.value = '';
      bizHours.value = 'Mon - Sat 08:00 - 17:00';
    })();

  </script>
</body>
          </html>
